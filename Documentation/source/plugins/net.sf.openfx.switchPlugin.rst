SwitchOFX
=========

.. figure:: net.sf.openfx.switchPlugin.png
   :alt: 

*This documentation is for version 1.0 of SwitchOFX.*

Lets you switch between any number of inputs.

The selected input number may be manually selected using the "which" parameter, or selected automatically if "automatic" is checked.

Automatic selection works by selecting, at any given time, the first input which is connected and has a non-empty region of definition.

A typical use case is a graph where an edited movie is used as input, then split into shots using one FrameRange plugin per shot (with "before" and "after" set to "Black"), followed by a different processing for each shot (e.g. stabilization, color correction, cropping), and all outputs are gathered into an edited movie using a single "Switch" plug-in in automatic mode. In this graph, no plug-in shifts time, and thus there is no risk of desynchronization, whereas using "AppendClip" instead of "Switch" may shift time if there is an error in one of the FrameRange ranges (a typical error is to use the same frame number as the last frame of shot n and the first frame of shot n+1).

This plugin concatenates transforms.

Inputs
------

+---------+---------------+------------+
| Input   | Description   | Optional   |
+=========+===============+============+
| 0       | 0             | Yes        |
+---------+---------------+------------+
| 1       | 1             | Yes        |
+---------+---------------+------------+
| 2       | 2             | Yes        |
+---------+---------------+------------+
| 3       | 3             | Yes        |
+---------+---------------+------------+
| 4       | 4             | Yes        |
+---------+---------------+------------+
| 5       | 5             | Yes        |
+---------+---------------+------------+
| 6       | 6             | Yes        |
+---------+---------------+------------+
| 7       | 7             | Yes        |
+---------+---------------+------------+
| 8       | 8             | Yes        |
+---------+---------------+------------+
| 9       | 9             | Yes        |
+---------+---------------+------------+
| 01      | 01            | Yes        |
+---------+---------------+------------+
| 11      | 11            | Yes        |
+---------+---------------+------------+
| 21      | 21            | Yes        |
+---------+---------------+------------+
| 31      | 31            | Yes        |
+---------+---------------+------------+
| 41      | 41            | Yes        |
+---------+---------------+------------+
| 51      | 51            | Yes        |
+---------+---------------+------------+
| 61      | 61            | Yes        |
+---------+---------------+------------+
| 71      | 71            | Yes        |
+---------+---------------+------------+
| 81      | 81            | Yes        |
+---------+---------------+------------+
| 91      | 91            | Yes        |
+---------+---------------+------------+
| 02      | 02            | Yes        |
+---------+---------------+------------+
| 12      | 12            | Yes        |
+---------+---------------+------------+
| 22      | 22            | Yes        |
+---------+---------------+------------+
| 32      | 32            | Yes        |
+---------+---------------+------------+
| 42      | 42            | Yes        |
+---------+---------------+------------+
| 52      | 52            | Yes        |
+---------+---------------+------------+
| 62      | 62            | Yes        |
+---------+---------------+------------+
| 72      | 72            | Yes        |
+---------+---------------+------------+
| 82      | 82            | Yes        |
+---------+---------------+------------+
| 92      | 92            | Yes        |
+---------+---------------+------------+
| 03      | 03            | Yes        |
+---------+---------------+------------+
| 13      | 13            | Yes        |
+---------+---------------+------------+
| 23      | 23            | Yes        |
+---------+---------------+------------+
| 33      | 33            | Yes        |
+---------+---------------+------------+
| 43      | 43            | Yes        |
+---------+---------------+------------+
| 53      | 53            | Yes        |
+---------+---------------+------------+
| 63      | 63            | Yes        |
+---------+---------------+------------+
| 73      | 73            | Yes        |
+---------+---------------+------------+
| 83      | 83            | Yes        |
+---------+---------------+------------+
| 93      | 93            | Yes        |
+---------+---------------+------------+
| 04      | 04            | Yes        |
+---------+---------------+------------+
| 14      | 14            | Yes        |
+---------+---------------+------------+
| 24      | 24            | Yes        |
+---------+---------------+------------+
| 34      | 34            | Yes        |
+---------+---------------+------------+
| 44      | 44            | Yes        |
+---------+---------------+------------+
| 54      | 54            | Yes        |
+---------+---------------+------------+
| 64      | 64            | Yes        |
+---------+---------------+------------+
| 74      | 74            | Yes        |
+---------+---------------+------------+
| 84      | 84            | Yes        |
+---------+---------------+------------+
| 94      | 94            | Yes        |
+---------+---------------+------------+
| 05      | 05            | Yes        |
+---------+---------------+------------+
| 15      | 15            | Yes        |
+---------+---------------+------------+
| 25      | 25            | Yes        |
+---------+---------------+------------+
| 35      | 35            | Yes        |
+---------+---------------+------------+
| 45      | 45            | Yes        |
+---------+---------------+------------+
| 55      | 55            | Yes        |
+---------+---------------+------------+
| 65      | 65            | Yes        |
+---------+---------------+------------+
| 75      | 75            | Yes        |
+---------+---------------+------------+
| 85      | 85            | Yes        |
+---------+---------------+------------+
| 95      | 95            | Yes        |
+---------+---------------+------------+
| 06      | 06            | Yes        |
+---------+---------------+------------+
| 16      | 16            | Yes        |
+---------+---------------+------------+
| 26      | 26            | Yes        |
+---------+---------------+------------+
| 36      | 36            | Yes        |
+---------+---------------+------------+
| 46      | 46            | Yes        |
+---------+---------------+------------+
| 56      | 56            | Yes        |
+---------+---------------+------------+
| 66      | 66            | Yes        |
+---------+---------------+------------+
| 76      | 76            | Yes        |
+---------+---------------+------------+
| 86      | 86            | Yes        |
+---------+---------------+------------+
| 96      | 96            | Yes        |
+---------+---------------+------------+
| 07      | 07            | Yes        |
+---------+---------------+------------+
| 17      | 17            | Yes        |
+---------+---------------+------------+
| 27      | 27            | Yes        |
+---------+---------------+------------+
| 37      | 37            | Yes        |
+---------+---------------+------------+
| 47      | 47            | Yes        |
+---------+---------------+------------+
| 57      | 57            | Yes        |
+---------+---------------+------------+
| 67      | 67            | Yes        |
+---------+---------------+------------+
| 77      | 77            | Yes        |
+---------+---------------+------------+
| 87      | 87            | Yes        |
+---------+---------------+------------+
| 97      | 97            | Yes        |
+---------+---------------+------------+
| 08      | 08            | Yes        |
+---------+---------------+------------+
| 18      | 18            | Yes        |
+---------+---------------+------------+
| 28      | 28            | Yes        |
+---------+---------------+------------+
| 38      | 38            | Yes        |
+---------+---------------+------------+
| 48      | 48            | Yes        |
+---------+---------------+------------+
| 58      | 58            | Yes        |
+---------+---------------+------------+
| 68      | 68            | Yes        |
+---------+---------------+------------+
| 78      | 78            | Yes        |
+---------+---------------+------------+
| 88      | 88            | Yes        |
+---------+---------------+------------+
| 98      | 98            | Yes        |
+---------+---------------+------------+
| 09      | 09            | Yes        |
+---------+---------------+------------+
| 19      | 19            | Yes        |
+---------+---------------+------------+
| 29      | 29            | Yes        |
+---------+---------------+------------+
| 39      | 39            | Yes        |
+---------+---------------+------------+
| 49      | 49            | Yes        |
+---------+---------------+------------+
| 59      | 59            | Yes        |
+---------+---------------+------------+
| 69      | 69            | Yes        |
+---------+---------------+------------+
| 79      | 79            | Yes        |
+---------+---------------+------------+
| 89      | 89            | Yes        |
+---------+---------------+------------+
| 99      | 99            | Yes        |
+---------+---------------+------------+
| 001     | 001           | Yes        |
+---------+---------------+------------+
| 101     | 101           | Yes        |
+---------+---------------+------------+
| 201     | 201           | Yes        |
+---------+---------------+------------+
| 301     | 301           | Yes        |
+---------+---------------+------------+
| 401     | 401           | Yes        |
+---------+---------------+------------+
| 501     | 501           | Yes        |
+---------+---------------+------------+
| 601     | 601           | Yes        |
+---------+---------------+------------+
| 701     | 701           | Yes        |
+---------+---------------+------------+
| 801     | 801           | Yes        |
+---------+---------------+------------+
| 901     | 901           | Yes        |
+---------+---------------+------------+
| 011     | 011           | Yes        |
+---------+---------------+------------+
| 111     | 111           | Yes        |
+---------+---------------+------------+
| 211     | 211           | Yes        |
+---------+---------------+------------+
| 311     | 311           | Yes        |
+---------+---------------+------------+
| 411     | 411           | Yes        |
+---------+---------------+------------+
| 511     | 511           | Yes        |
+---------+---------------+------------+
| 611     | 611           | Yes        |
+---------+---------------+------------+
| 711     | 711           | Yes        |
+---------+---------------+------------+
| 811     | 811           | Yes        |
+---------+---------------+------------+
| 911     | 911           | Yes        |
+---------+---------------+------------+
| 021     | 021           | Yes        |
+---------+---------------+------------+
| 121     | 121           | Yes        |
+---------+---------------+------------+
| 221     | 221           | Yes        |
+---------+---------------+------------+
| 321     | 321           | Yes        |
+---------+---------------+------------+
| 421     | 421           | Yes        |
+---------+---------------+------------+
| 521     | 521           | Yes        |
+---------+---------------+------------+
| 621     | 621           | Yes        |
+---------+---------------+------------+
| 721     | 721           | Yes        |
+---------+---------------+------------+

Controls
--------

+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Label (UI Name)                | Script-Name          | Type      | Default-Value   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+================================+======================+===========+=================+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| Which                          | which                | Integer   | 0               | The input to display. Each input is displayed at the value corresponding to the number of the input. For example, setting which to 4 displays the image from input 4.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Automatic                      | automatic            | Boolean   | Off             | When checked, automatically switch to the first connected input with a non-empty region of definition. This can be used to recompose a single clip from effects applied to different frame ranges.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Label                          | userTextArea         | String    | N/A             | This label gets appended to the node name on the node graph.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Output Layer                   | channels             | Choice    | Color.RGBA      | Select here the layer onto which the processing should occur.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Hide inputs                    | hideInputs           | Boolean   | Off             | When checked, the input arrows of the node in the nodegraph will be hidden                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Force caching                  | forceCaching         | Boolean   | Off             | When checked, the output of this node will always be kept in the RAM cache for fast access of already computed images.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Preview                        | enablePreview        | Boolean   | Off             | Whether to show a preview on the node box in the node-graph.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Disable                        | disableNode          | Boolean   | Off             | When disabled, this node acts as a pass through.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Lifetime Range                 | nodeLifeTime         | Integer   | x: 0 y: 0       | This is the frame range during which the node will be active if Enable Lifetime is checked                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Enable Lifetime                | enableNodeLifeTime   | Boolean   | Off             | When checked, the node is only active during the specified frame range by the Lifetime Range parameter. Outside of this frame range, it behaves as if the Disable parameter is checked                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| After param changed callback   | onParamChanged       | String    | N/A             | Set here the name of a function defined in Python which will be called for each parameter change. Either define this function in the Script Editor or in the init.py script or even in the script of a Python group plug-in.The signature of the callback is: callback(thisParam, thisNode, thisGroup, app, userEdited) where:- thisParam: The parameter which just had its value changed- userEdited: A boolean informing whether the change was due to user interaction or because something internally triggered the change.- thisNode: The node holding the parameter- app: points to the current application instance- thisGroup: The group holding thisNode (only if thisNode belongs to a group)   |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| After input changed callback   | onInputChanged       | String    | N/A             | Set here the name of a function defined in Python which will be called after each connection is changed for the inputs of the node. Either define this function in the Script Editor or in the init.py script or even in the script of a Python group plug-in.The signature of the callback is: callback(inputIndex, thisNode, thisGroup, app):- inputIndex: the index of the input which changed, you can query the node connected to the input by calling the getInput(...) function.- thisNode: The node holding the parameter- app: points to the current application instance- thisGroup: The group holding thisNode (only if thisNode belongs to a group)                                           |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                                | nodeInfos            | String    | N/A             | Input and output informations, press Refresh to update them with current values                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Refresh Info                   | refreshButton        | Button    | N/A             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+----------------------+-----------+-----------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
