SeExpr
======

.. figure:: fr.inria.openfx.SeExpr.png
   :alt: 

*This documentation is for version 2.0 of SeExpr.*

Use the Walt Disney Animation Studio SeExpr expresion language to process pixels of the input image.

SeExpr Home Page: http://www.disneyanimation.com/technology/seexpr.html

SeExpr Language Documentation: http://wdas.github.io/SeExpr/doxygen/userdoc.html

SeExpr is licensed under the Apache License v2 and is copyright of Disney Enterprises, Inc.

Some extensions were added to the language for filtering and blending several input images. The following pre-defined variables can be used in the script:

-  x: X coordinate (in pixel units) of the pixel to render.

-  y: Y coordinate (in pixel units) of the pixel to render.

-  u: X coordinate (normalized in the [0,1] range) of the output pixel to render.

-  v: Y coordinate (normalized in the [0,1] range) of the output pixel to render.

-  sx, sy: Scale at which the image is being rendered. Depending on the zoom level of the viewer, the image might be rendered at a lower scale than usual. This parameter is useful when producing spatial effects that need to be invariant to the pixel scale, especially when using X and Y coordinates. (0.5,0.5) means that the image is being rendered at half of its original size.

-  par: The pixel aspect ratio.

-  cx, cy: Shortcuts for (x + 0.5)/par/sx and (y + 0.5)/sy, a.k.a. the canonical coordinates of the current pixel.

-  frame: Current frame being rendered

-  Cs, As: Color (RGB vector) and alpha (scalar) of the image from input 1.

-  CsN, AsN: Color (RGB vector) and alpha (scalar) of the image from input N, e.g. Cs2 and As2 for input 2.

-  output\_width: Width of the output image being rendered.

-  output\_height: Height of the output image being rendered.

-  input\_width, input\_height: Size of image from input 1, in pixels.

-  input\_widthN, input\_heightN: Size of image from input N, e.g. input\_width2 and input\_height2 for input 2.

-  color cpixel(int i, int f, float x, float y, int interp = 0): interpolates the color from input i at the pixel position (x,y) in the image, at frame f.

-  float apixel(int i, int f, float x, float y, int interp = 0): interpolates the alpha from input i at the pixel position (x,y) in the image, at frame f.

The pixel position of the center of the bottom-left pixel is (0., 0.).

First input has index i=1.

'interp' controls the interpolation filter, and can take one of the following values:

0: impulse - (nearest neighbor / box) Use original values

1: bilinear - (tent / triangle) Bilinear interpolation between original values

2: cubic - (cubic spline) Some smoothing

3: Keys - (Catmull-Rom / Hermite spline) Some smoothing, plus minor sharpening (\*)

4: Simon - Some smoothing, plus medium sharpening (\*)

5: Rifman - Some smoothing, plus significant sharpening (\*)

6: Mitchell - Some smoothing, plus blurring to hide pixelation (\*+)

7: Parzen - (cubic B-spline) Greatest smoothing of all filters (+)

8: notch - Flat smoothing (which tends to hide moire' patterns) (+)

Some filters may produce values outside of the initial range (\*) or modify the values even at integer positions (+).

Usage example (Application of the Multiply Merge operator on the input 1 and 2):

Cs \* Cs2

Another merge operator example (over):

Cs + Cs2 \* (1 - As)

Generating a time-varying colored Perlin noise with size x1:

cnoise([cx/x1,cy/x1,frame])

A more complex example used to average pixels over the previous, current and next frame:

prev = cpixel(1,frame - 1,x,y);

cur = Cs;

next = cpixel(1,frame + 1,x,y);

(prev + cur + next) / 3;

To use custom variables that are pre-defined in the plug-in (scalars, positions and colors) you must reference them using their script-name in the expression. For example, the parameter x1 can be referenced using x1 in the script:

Cs + x1

Note that for expressions that span multiple lines, you must end each instruction by a semicolumn (';') as you would do in C/C++. The last line of your expression will always be considered as the final value of the pixel and must not be terminated by a semicolumn.

More documentation is available on the SeExpr website:

The input frame range used to render a given output frame is computed automatically if the following conditions hold:

-  The 'frame' parameter to cpixel/apixel must not depend on the color or alpha of a pixel, nor on the result of another call to cpixel/apixel

-  A call to cpixel/apixel must not depend on the color or alpha of a pixel, as in the following:

if (As > 0.1) {

::

    src = cpixel(1,frame,x,y);

} else {

::

    src = [0,0,0];

}

If one of these conditions does not hold, all frames from the specified input frame range are asked for.

Inputs
------

+---------+---------------+------------+
| Input   | Description   | Optional   |
+=========+===============+============+
| 1       | 1             | Yes        |
+---------+---------------+------------+
| 2       | 2             | Yes        |
+---------+---------------+------------+
| 3       | 3             | Yes        |
+---------+---------------+------------+
| 4       | 4             | Yes        |
+---------+---------------+------------+
| 5       | 5             | Yes        |
+---------+---------------+------------+
| 6       | 6             | Yes        |
+---------+---------------+------------+
| 7       | 7             | Yes        |
+---------+---------------+------------+
| 8       | 8             | Yes        |
+---------+---------------+------------+
| 9       | 9             | Yes        |
+---------+---------------+------------+
| 10      | 10            | Yes        |
+---------+---------------+------------+
| Mask    | Mask          | Yes        |
+---------+---------------+------------+

Controls
--------

+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Label (UI Name)                | Script-Name              | Type      | Default-Value                   | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+================================+==========================+===========+=================================+===========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| Region of Definition           | rod                      | Choice    | Union                           | Region of definition (extent) of the output.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Output components              | outputComponents         | Choice    | RGBA                            | Specify what components to output. In RGB only, the alpha script will not be executed. Similarily, in alpha only, the RGB script will not be executed.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Format                         | format                   | Choice    | PC\_Video 640x480               | The output format                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Bottom Left                    | bottomLeft               | Double    | x: 0 y: 0                       | Coordinates of the bottom left corner of the size rectangle.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Size                           | size                     | Double    | w: 1 w: 1                       | Width and height of the size rectangle.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Interactive Update             | interactive              | Boolean   | Off                             | If checked, update the parameter values during interaction with the image viewer, else update the values when pen is released.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 1                  | layerInput1              | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 2                  | layerInput2              | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 3                  | layerInput3              | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 4                  | layerInput4              | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 5                  | layerInput5              | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 6                  | layerInput6              | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 7                  | layerInput7              | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 8                  | layerInput8              | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 9                  | layerInput9              | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Layer 10                 | layerInput10             | Choice    | Color                           | Select which layer from the input to use when calling cpixel/apixel on input 10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| No. of Scalar Params           | doubleParamsNb           | Integer   | 0                               | Use this to control how many scalar parameters should be exposed to the SeExpr expression.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x1                             | x1                       | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x2                             | x2                       | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x3                             | x3                       | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x4                             | x4                       | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x5                             | x5                       | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x6                             | x6                       | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x7                             | x7                       | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x8                             | x8                       | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x9                             | x9                       | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| x10                            | x10                      | Double    | 0                               | A custom 1-dimensional variable that can be referenced in the expression by its script-name, x10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| No. of 2D Params               | double2DParamsNb         | Integer   | 0                               | Use this to control how many 2D (position) parameters should be exposed to the SeExpr expression.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos1                           | pos1                     | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos2                           | pos2                     | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos3                           | pos3                     | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos4                           | pos4                     | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos5                           | pos5                     | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos6                           | pos6                     | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos7                           | pos7                     | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos8                           | pos8                     | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos9                           | pos9                     | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pos10                          | pos10                    | Double    | x: 0 y: 0                       | A custom 2-dimensional variable that can be referenced in the expression by its script-name, pos10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| No. of Color Params            | colorParamsNb            | Integer   | 0                               | Use this to control how many color parameters should be exposed to the SeExpr expression.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color1                         | color1                   | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color2                         | color2                   | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color3                         | color3                   | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color4                         | color4                   | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color5                         | color5                   | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color6                         | color6                   | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color6                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color7                         | color7                   | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color7                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color8                         | color8                   | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color8                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color9                         | color9                   | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color9                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| color10                        | color10                  | Color     | r: 0 g: 0 b: 0                  | A custom RGB variable that can be referenced in the expression by its script-name, color10                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Input Frame Range              | frameRange               | Integer   | min: 0 max: 0                   | Default input frame range to fetch images from (may be relative or absolute, depending on the "frameRangeAbsolute" parameter). Only used if the frame range cannot be statically computed from the expression. This parameter can be animated.                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Absolute Frame Range           | frameRangeAbsolute       | Boolean   | Off                             | If checked, the frame range is relative to the current frame.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| RGB Script                     | script                   | String    | #Just copy the source RGBCs     | Contents of the SeExpr expression. This expression should output the RGB components. See the description of the plug-in and http://www.disneyanimation.com/technology/seexpr.html for documentation. On Nuke, the characters '$', '[' ']' must be preceded with a backslash (as '$', '[', ']') to avoid TCL variable and expression substitution.                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Alpha Script                   | alphaScript              | String    | #Just copy the source alphaAs   | Contents of the SeExpr expression. This expression should output the alpha component only. See the description of the plug-in and http://www.disneyanimation.com/technology/seexpr.html for documentation. On Nuke, the characters '$', '[' ']' must be preceded with a backslash (as '$', '[', ']') to avoid TCL variable and expression substitution.                                                                                                                                                                                                                                                                                                                                                   |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Invert Mask                    | maskInvert               | Boolean   | Off                             | When checked, the effect is fully applied where the mask is 0.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Mix                            | mix                      | Double    | 1                               | Mix factor between the original and the transformed image.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Label                          | userTextArea             | String    | N/A                             | This label gets appended to the node name on the node graph.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| R                              | NatronOfxParamProcessR   | Boolean   | On                              | Process red component.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| G                              | NatronOfxParamProcessG   | Boolean   | On                              | Process green component.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| B                              | NatronOfxParamProcessB   | Boolean   | On                              | Process blue component.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| A                              | NatronOfxParamProcessA   | Boolean   | On                              | Process alpha component.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Mask                           | enableMask\_Mask         | Boolean   | Off                             | Enable the mask to come from the channel named by the choice parameter on the right. Turning this off will act as though the mask was disconnected.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                                | maskChannel\_Mask        | Choice    | RGBA.A                          | Use this channel from the original input to mix the output with the original input. Setting this to None is the same as disconnecting the input.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Hide inputs                    | hideInputs               | Boolean   | Off                             | When checked, the input arrows of the node in the nodegraph will be hidden                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Force caching                  | forceCaching             | Boolean   | Off                             | When checked, the output of this node will always be kept in the RAM cache for fast access of already computed images.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Preview                        | enablePreview            | Boolean   | Off                             | Whether to show a preview on the node box in the node-graph.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Disable                        | disableNode              | Boolean   | Off                             | When disabled, this node acts as a pass through.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Lifetime Range                 | nodeLifeTime             | Integer   | x: 0 y: 0                       | This is the frame range during which the node will be active if Enable Lifetime is checked                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Enable Lifetime                | enableNodeLifeTime       | Boolean   | Off                             | When checked, the node is only active during the specified frame range by the Lifetime Range parameter. Outside of this frame range, it behaves as if the Disable parameter is checked                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| After param changed callback   | onParamChanged           | String    | N/A                             | Set here the name of a function defined in Python which will be called for each parameter change. Either define this function in the Script Editor or in the init.py script or even in the script of a Python group plug-in.The signature of the callback is: callback(thisParam, thisNode, thisGroup, app, userEdited) where:- thisParam: The parameter which just had its value changed- userEdited: A boolean informing whether the change was due to user interaction or because something internally triggered the change.- thisNode: The node holding the parameter- app: points to the current application instance- thisGroup: The group holding thisNode (only if thisNode belongs to a group)   |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| After input changed callback   | onInputChanged           | String    | N/A                             | Set here the name of a function defined in Python which will be called after each connection is changed for the inputs of the node. Either define this function in the Script Editor or in the init.py script or even in the script of a Python group plug-in.The signature of the callback is: callback(inputIndex, thisNode, thisGroup, app):- inputIndex: the index of the input which changed, you can query the node connected to the input by calling the getInput(...) function.- thisNode: The node holding the parameter- app: points to the current application instance- thisGroup: The group holding thisNode (only if thisNode belongs to a group)                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                                | nodeInfos                | String    | N/A                             | Input and output informations, press Refresh to update them with current values                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Refresh Info                   | refreshButton            | Button    | N/A                             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+--------------------------+-----------+---------------------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
