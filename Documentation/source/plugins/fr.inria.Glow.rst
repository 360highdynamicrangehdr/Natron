.. _fr.inria.Glow:

Glow
====

.. figure:: fr.inria.Glow.png
   :alt: 

*This documentation is for version 1.0 of Glow.*

A glow effect based on the bloom filter node. The mask input limits the area where the glowing elements are. It does not cut off the shine produced by the glow.

For more interesting looks there are some additional features like stretch, rotation and postgrade.

Written by PostPollux

Inputs
------

+---------+---------------+------------+
| Input   | Description   | Optional   |
+=========+===============+============+
| 1       |               | No         |
+---------+---------------+------------+
| mask    |               | Yes        |
+---------+---------------+------------+

Controls
--------

+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Label (UI Name)                | Script-Name                 | Type      | Default-Value         | Function                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+================================+=============================+===========+=======================+=========================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================================+
| Label                          | userTextArea                | String    | N/A                   | This label gets appended to the node name on the node graph.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Hide inputs                    | hideInputs                  | Boolean   | Off                   | When checked, the input arrows of the node in the nodegraph will be hidden                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Force caching                  | forceCaching                | Boolean   | Off                   | When checked, the output of this node will always be kept in the RAM cache for fast access of already computed images.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Preview                        | enablePreview               | Boolean   | Off                   | Whether to show a preview on the node box in the node-graph.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Disable                        | disableNode                 | Boolean   | Off                   | When disabled, this node acts as a pass through.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Lifetime Range                 | nodeLifeTime                | Integer   | x: 0 y: 0             | This is the frame range during which the node will be active if Enable Lifetime is checked                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Enable Lifetime                | enableNodeLifeTime          | Boolean   | Off                   | When checked, the node is only active during the specified frame range by the Lifetime Range parameter. Outside of this frame range, it behaves as if the Disable parameter is checked                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| After param changed callback   | onParamChanged              | String    | N/A                   | Set here the name of a function defined in Python which will be called for each parameter change. Either define this function in the Script Editor or in the init.py script or even in the script of a Python group plug-in.The signature of the callback is: callback(thisParam, thisNode, thisGroup, app, userEdited) where:- thisParam: The parameter which just had its value changed- userEdited: A boolean informing whether the change was due to user interaction or because something internally triggered the change.- thisNode: The node holding the parameter- app: points to the current application instance- thisGroup: The group holding thisNode (only if thisNode belongs to a group)                                 |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| After input changed callback   | onInputChanged              | String    | N/A                   | Set here the name of a function defined in Python which will be called after each connection is changed for the inputs of the node. Either define this function in the Script Editor or in the init.py script or even in the script of a Python group plug-in.The signature of the callback is: callback(inputIndex, thisNode, thisGroup, app):- inputIndex: the index of the input which changed, you can query the node connected to the input by calling the getInput(...) function.- thisNode: The node holding the parameter- app: points to the current application instance- thisGroup: The group holding thisNode (only if thisNode belongs to a group)                                                                         |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| After Node Created             | afterNodeCreated            | String    | N/A                   | Add here the name of a Python-defined function that will be called each time a node is created in the group. This will be called in addition to the After Node Created callback of the project for the group node and all nodes within it (not recursively).The boolean variable userEdited will be set to True if the node was created by the user or False otherwise (such as when loading a project, or pasting a node).The signature of the callback is: callback(thisNode, app, userEdited) where:- thisNode: the node which has just been created- userEdited: a boolean indicating whether the node was created by user interaction or from a script/project load/copy-paste- app: points to the current application instance.   |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Before Node Removal            | beforeNodeRemoval           | String    | N/A                   | Add here the name of a Python-defined function that will be called each time a node is about to be deleted. This will be called in addition to the Before Node Removal callback of the project for the group node and all nodes within it (not recursively).This function will not be called when the project is closing.The signature of the callback is: callback(thisNode, app) where:- thisNode: the node about to be deleted- app: points to the current application instance.                                                                                                                                                                                                                                                     |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                                | nodeInfos                   | String    | N/A                   | Input and output informations, press Refresh to update them with current values                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Refresh Info                   | refreshButton               | Button    | N/A                   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Export as PyPlug               | exportAsPyPlug              | Button    | N/A                   | Export this group as a Python group script (PyPlug) that can be shared and/or later on re-used as a plug-in.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Isolate Highlights             | isolateHighlights           | Double    | 0.25                  | "Isolate Highlights" controls on which parts of the image the glow is applied. high value -> only bright areas                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Isolate Hue                    | isolateHue                  | Boolean   | Off                   | If checked, the picked hue will additionally limit the areas of the glow.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| pick Hue                       | HSVTool1srcColor            | Color     | r: 0 g: 0 b: 0        | Pick a color in the viewport to isolate it's hue.The glow will only be applied to those areas, if 'Isolate Hue' is checked.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| GlowMap Preview                | preview                     | Boolean   | Off                   | When checked, the output will be the glowmap. Use this as a preview to adjust the highlight and hue isolation.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Size                           | size                        | Double    | 3                     | This will change the size of the glow.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Ratio                          | BloombloomRatio             | Double    | 2                     |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Iterations                     | iterations                  | Integer   | 7                     | Number of blur kernels of the bloom filter. The original implementation uses a value of 5. Higher values give a wider of heavier tail (the size of the largest blur kernel is 2\*\*bloomCount\*size). A count of 1 is just the original blur.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Filter                         | Bloomfilter                 | Choice    | Quasi-Gaussian        | Bluring filter. The quasi-Gaussian filter should be appropriate in most cases. The Gaussian filter is more isotropic (its impulse response has rotational symmetry), but slower.Quadratic might also look a bit better, but it is slower, too.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Stretch                        | stretch                     | Double    | 0                     | Stretch the glow!0 -> uniform proportions1 -> blur only in one direction                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Rotate                         | rotate                      | Double    | 0                     | This will rotate your streched glow. If "Stretch" is 0 it won't have any effect.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
|                                | postgradeLabel              | String    | Postgrade             |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Gain                           | PostGradeMasterGain         | Color     | r: 1 g: 1 b: 1 a: 1   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Gamma                          | PostGradeMasterGamma        | Color     | r: 1 g: 1 b: 1 a: 1   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Saturation                     | PostGradeMasterSaturation   | Color     | r: 1 g: 1 b: 1 a: 1   |                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Screen                         | screen                      | Boolean   | Off                   | If checked, the bloomed image will be screened on top of the input image. This helps to preserve the highlights in your image.By default it is added on top of the imput image. (plus)                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Add Input                      | addInput                    | Boolean   | Off                   | Add the input image to the bloomed one.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Glow Only                      | glowOnly                    | Boolean   | Off                   | The output will only be the glow effect itself.You can add it on top of your source with a plus-merge or a screen-merge, later.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| expand RoD                     | expRoD                      | Boolean   | Off                   | By default the Region of Definition (RoD) will be cropped to the input RoD.Use this option, if you want the glow effect to be available even outside your input format, and thus being not cropped.As the blur sizes of the bloom node can get very big, this may lead to a very big RoD! Especially, if you use a lot of iterations.                                                                                                                                                                                                                                                                                                                                                                                                   |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| apply on alpha                 | alpha                       | Boolean   | Off                   | Controls if the glow is applied to the alpha channel, too.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              |
+--------------------------------+-----------------------------+-----------+-----------------------+-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+
